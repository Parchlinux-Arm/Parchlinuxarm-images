#!/bin/bash

set -uo pipefail

# Add fwcd repo
cat <<EOF >> /etc/pacman.conf

[fwcd]
Server = https://github.com/fwcd/arch-repo/releases/latest/download
SigLevel = Never
EOF

# Install useful packages
packages=(
  avahi
  curl
  git
  htop
  iwd
  neovim
  python
  rsync
  sudo
  tmux
  # TODO: There seems to be some issue with https://github.com/fwcd/arch-repo
  # yay
  zsh
)
pacman -Syu --noconfirm --needed "${packages[@]}"

# Enable services
systemctl enable avahi-daemon iwd
